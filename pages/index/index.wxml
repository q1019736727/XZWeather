<!--index.wxml-->
<!--过滤器-->
<wxs src='../../tools/indexFilter.wxs' module="filter"></wxs>

<view class="container">
  <view class='weatherTopWrapper'>
    <image src='../../imgs/rain.png'></image>
    <view class='location'>
      <text>{{addressName}}</text>
      <icon wx:if='{{addressName}}' class='iconfont icon-location'></icon>
    </view>
    <view class='temperatureWrapper'>
      <text>{{filter.filterTemp(currentWeather.tem)}}</text>
      <text wx:if='{{filter.filterTemp(currentWeather.tem)}}'>℃</text>
    </view>
    <view class='todayWeather'>
      <text decode='true'>
        {{currentWeather.wea}}&nbsp;&nbsp;{{filter.filterTemp(currentWeather.tem1)}}/{{currentWeather.tem2}} 
      </text>
      <icon class='iconfont .icon-tianqi-baoyu'></icon>
    </view>
  </view>

  <view class='bottomPage'>
    <view class='nearTempCard'>
      <text>未来几小时温度</text>
      <canvas canvas-id="canvas" id="canvas"></canvas>
      <view class='bottomtemp'>
        <label wx:for='{{currentTimeList}}' wx:key='idx'>
          {{item}}
        </label>
      </view>
    </view>
    <view class='weekTemp'>
      <label>最近7日天气</label>
      <view class='weekTemp-item' wx:for='{{currentWeatherList}}' wx:key='item.day'>
        <view class='item-left'>
          <text>{{item.wea}}</text>
          <text>{{filter.filterTemp(item.tem1)}}/{{item.tem2}}</text>
          <icon class='iconfont icon-tianqi-leiyu'></icon>
        </view>
        <text class='item-right'>{{filter.dateFilter(item.date)}}</text>
      </view>
    </view>
  </view>
</view>